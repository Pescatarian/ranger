<!DOCTYPE html>
<html>
<head>
    <title>Ranger</title>
    <style>
        /* ... (keep all previous styles) ... */

        .button.active {
            background-color: #45a049;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.5);
        }

        .grid-container.hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="controls">
            <button id="viewModeBtn" class="button active" onclick="toggleViewMode()">View Mode</button>
            <button id="rangeBuilderBtn" class="button" onclick="toggleRangeBuilder()">Range Builder</button>
        </div>
        <div class="grid-container" id="grid"></div>
    </div>

    <div class="sidebar" id="sidebar">
        <h2>Range Builder</h2>
        <div class="range-grid" id="rangeGrid"></div>
    </div>

    <script>
        let isViewMode = true;
        let isRangeBuilderOpen = false;

        function toggleViewMode() {
            isViewMode = true;
            isRangeBuilderOpen = false;
            
            // Update buttons
            document.getElementById('viewModeBtn').classList.add('active');
            document.getElementById('rangeBuilderBtn').classList.remove('active');
            
            // Show grid, hide sidebar
            document.getElementById('grid').classList.remove('hidden');
            document.getElementById('sidebar').classList.remove('active');
        }

        function toggleRangeBuilder() {
            isRangeBuilderOpen = !isRangeBuilderOpen;
            isViewMode = !isRangeBuilderOpen;
            
            // Update buttons
            document.getElementById('viewModeBtn').classList.toggle('active', !isRangeBuilderOpen);
            document.getElementById('rangeBuilderBtn').classList.toggle('active', isRangeBuilderOpen);
            
            // Toggle sidebar
            document.getElementById('sidebar').classList.toggle('active');
            
            // Hide grid in range builder mode
            document.getElementById('grid').classList.toggle('hidden', isRangeBuilderOpen);
        }

        // ... (keep createGrid and createRangeGrid functions the same) ...

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            createGrid();
            createRangeGrid();
            // Start in view mode
            toggleViewMode();
        });
    </script>
</body>
</html>
